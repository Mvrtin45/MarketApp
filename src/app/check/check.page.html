<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>Compra Finalizada</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <div class="contenido-pago">
    <div class="compra-container">
      <!-- Título del mensaje de éxito o error -->
      <ion-card-title *ngIf="compraExitosa; else errorTemplate">
        ¡Compra Exitosa!
      </ion-card-title>

      <!-- Lista de productos comprados -->
      <ng-container *ngFor="let producto of productosComprados">
        <ion-item>
          <ion-label>Producto:</ion-label>
          <ion-text>{{ producto.titulo }}</ion-text>
        </ion-item>

        <ion-item>
          <ion-label>Precio:</ion-label>
          <ion-text>{{ producto.precio | currency:'CLP':'symbol':'1.0-0' }}</ion-text> 
        </ion-item>

        <ion-item>
          <ion-label>Cantidad:</ion-label>
          <ion-text>{{ producto.cantidad }}</ion-text>
        </ion-item>

        <ion-item>
          <ion-label>Total:</ion-label>
          <ion-text>{{ producto.precio * producto.cantidad | currency:'CLP':'symbol':'1.0-0' }}</ion-text> 
        </ion-item>

        <ion-item-divider></ion-item-divider> <!-- Separador entre productos -->
      </ng-container>

      <!-- Mensaje de error en caso de que la compra no se haya completado -->
      <ng-template #errorTemplate>
        <ion-card-title class="compra-error">
          Hubo un problema con tu compra. Por favor, intenta de nuevo.
        </ion-card-title>
      </ng-template>

      <!-- Botón de regreso -->
      <ion-button expand="block" (click)="volverAlInicio()">Volver al Inicio</ion-button>
    </div>
  </div>
</ion-content>